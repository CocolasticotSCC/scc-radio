main:
  image: moul/liquidsoap
  volumes:
  - config:/config
  - playlists:/playlists
  - data:/data
  command: /supervisor.sh liquidsoap -v --debug /config/main.liq
  environment:
  - HARBOR_PASSWORD
  - LIVE_PASSWORD
  links:
  - broadcast
  ports:
  - 8022:5001

broadcast:
  image: moul/liquidsoap
  volumes:
  - config:/config
  - playlists/failures:/playlists/failures
  command: /supervisor.sh liquidsoap /config/broadcast.liq
  environment:
  - HARBOR_PASSWORD
  - ICECAST_SOURCE_PASSWORD
  links:
  - icecast

icecast:
  image: moul/icecast
  environment:
  - ICECAST_SOURCE_PASSWORD
  - ICECAST_ADMIN_PASSWORD
  - ICECAST_PASSWORD
  - ICECAST_RELAY_PASSWORD
  ports:
  - 9100:8000

# BTSYNC
# FTP